<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>台電電費7</title>
	<link rel="stylesheet" href="">

	<style>

		.color{border:1px solid green;}
		.bg{background:#6EEC93;}
		.text{text-align:center;}
		.tbcenter{position:relative;left:350px;}
		.hcenter{position:relative;left:50px;}
		.tbcenter{position:relative;left:500px;}
		.hcenter{position:relative;left:450px;}
		
	</style>

</head>
<body>
	
	<h1 class="hcenter">台電電費計算-低壓電力電價非時間電價</h1>
	<div class="tbcenter">
		<table class="color" cellpadding="0" cellspacing="0">

			<tr>
				<td class="color  bg text" colspan="4">分&emsp;類</td>
				<td class="color  bg text">夏月<br>(6月1日至9月30日)</td>
				<td class="color  bg text">非夏月<br>(夏月以外時間)</td>
			</tr>
			
			<tr>
				<td class="color text" rowspan="4">基本<br>電費</td>
				<tr>
					<td class="color text" colspan="2">裝&emsp;置&emsp;契&emsp;約</td>
					<td class="color text">每瓩每月</td>
					<td class="color text" colspan="2">137.50</td>
				</tr>
				<tr>
					<td class="color text" rowspan="2">需量<br>契約</td>
					<td class="color text">經常契約</td>
					<td class="color text">每瓩每月</td>
					<td class="color text">236.20</td>
					<td class="color text">173.20</td>
				</tr>
				<tr>
					<td class="color text">非夏月契約</td>
					<td class="color text">每瓩每月</td>
					<td class="color text">--</td>
					<td class="color text">173.20</td>
				</tr>
				<tr>
					<td class="color" colspan="3">流&emsp;動&emsp;電&emsp;費</td>
					<td class="color text">每&emsp;度</td>
					<td class="color text">2.58</td>
					<td class="color text">2.45</td>
				</tr>
			</tr>

		</table>
	
	</div>
	
	<script>
		


		function showAns(){

			var wa=document.getElementById("wa").value;       //讀取契約容量的值
			var num1=document.getElementById("num1").value;   //讀取每月用電的值
			var month=document.getElementById("month").value; //讀取月份的值
			var result=document.getElementById("result");   //將結果印在div
			var e=document.getElementById("choice");        //讀取下拉式選單的內容和值
			var strValue=e.options[e.selectedIndex].value;  //讀取下拉式選項的值
			var strText=e.options[e.selectedIndex].text;    //讀取下拉式選項的內容
			var sum;                    //計算價格
			var wa=parseInt(wa,10);     //將字串轉成整數
			var n1=parseInt(num1,10);   //將字串轉成整數

			document.getElementById("result").innerHTML=""; //按完後清除之前的資料
			//result.innerHTML+="契約容量:"+wa+"瓩<br>"+month+"月用電:"+num1+"度<br>"+"下拉式選項的編號:"+strValue+"<br>"+"下拉式選項的編號內容:"+strText+"<br>";
			
			switch(strValue){

				case "1":

					if(month=="6" || month=="7" || month=="8" || month=="9"){
						sum=137.50*wa+2.58*num1;
						result.innerHTML+=month+"月電費:"+Math.round(sum)+"元";
					}else if(month=="1" || month=="2" || month=="3" || month=="4" || month=="5" || month=="10" || month=="11" || month=="12"){
						sum=137.50*wa+2.45*num1;
						result.innerHTML+=month+"月電費:"+Math.round(sum)+"元"
					}else{
						result.innerHTML+="月份輸入錯誤";
					}
					
				break;

				case "2":

					if(month=="6" || month=="7" || month=="8" || month=="9"){
						sum=236.20*wa+2.58*num1;
						result.innerHTML+=month+"月電費:"+Math.roun(sum)+"元";
					}else if(month=="1" || month=="2" || month=="3" || month=="4" || month=="5" || month=="10" || month=="11" || month=="12"){
						sum=173.20*wa+2.45*num1;
						result.innerHTML+=month+"月電費:"+Math.round(sum)+"元"
					}else{
						result.innerHTML+="月份輸入錯誤";
					}

				break;

				case "3":

					if(month=="1" || month=="2" || month=="3" || month=="4" || month=="5" || month=="10" || month=="11" || month=="12"){
						sum=173.20*wa+2.45*num1;
						result.innerHTML+=month+"月電費:"+Math.round(sum)+"元"
					}else{
						result.innerHTML+="月份輸入錯誤";
					}

				break;

			}
			

		}

		function showClear(){

			document.getElementById("month").value="";      //清除input的內容
			document.getElementById("wa").value="";        //輸入變為0
			document.getElementById("num1").value="";        //輸入變為0
			document.getElementById("result").innerHTML=""; //清除div的內容
			document.getElementById("choice").value="0";    //下拉式選單跳回最上面第0個選項
		
		}
		
	</script>

	<div class="tbcenter">

		<h2>先按下拉式選單，再輸入值</h2>

		<select  id="choice">

			<option value="0">選擇以下項目:</option>
			<option value="1">1.裝置契約</option>
			<option value="2">2.需量契約，經常契約</option>
			<option value="3">3.需量契約，非夏月契約(非6~9月)</option>
		</select>		

		
		<p>請輸入契約容量(瓩): <input type="text" id="wa" value="0"></p>
		<p>請輸入月份(1~12月份): <input type="text" id="month" maxlength="2"></p>
		<p>請輸入用電度數: <input type="text" id="num1" value="0"></p>
		
		<button onclick="showAns()">Show Ans</button>
		<button onclick="showClear()">Clear</button>
		<div id="result"></div>

	</div>

</body>
</html>