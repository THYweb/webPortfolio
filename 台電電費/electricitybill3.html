<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>台電電費計算3</title>
	<link rel="stylesheet" href="">

	<style>

		.color{border:1px solid green;}
		.bg{background:#6EEC93;}
		.text{text-align:center;}
		.tbcenter{position:relative;left:350px;}
		.hcenter{position:relative;left:50px;}
		.tbcenter{position:relative;left:500px;}
		.hcenter{position:relative;left:550px;}

	</style>

</head>
<body>

	<h1 class="hcenter">台電電費計算-包制電價</h1>
	
	<div class="tbcenter">

		<table  cellpadding="0" cellspacing="0" class="color">
		
		
			
			<tr >
				<th class="color bg" colspan="3">分類</th>
				<th class="color bg">單位</th>
				<th class="color bg">單價</th>
			</tr>
		
			
			
			<tr>
				<td class="color bg" rowspan="4">電燈</td>

				<tr>
					<td class="color" rowspan="2">一般電燈</td>
					<td class="color">100瓦以下</td>
					<td class="color">每燈每月</td>
					<td class="color">92.74</td>
				</tr>
				
				<tr >
					<td class="color">100瓦以上，每1~100瓦</td>
					<td class="color">每燈每月</td>
					<td class="color">加74.81</td>
				<tr>
					
				<td class="color" colspan="2">LED公用路燈</td>
				<td class="color">每瓦每月</td>
				<td class="color">0.71</td>

			</tr>
			
			
				
			<tr>
				<td class="color bg" rowspan="2">小型器具</td>
				<td class="color" colspan="2">50瓦以下部分</td>
				<td class="color">每具每月</td>
				<td class="color">81.53</td>
			</tr>
			<tr>
				<td class="color" colspan="2">50瓦以上部分，每超出1~50瓦</td>
				<td class="color">每具每月</td>
				<td class="color">加54.54</td>
			</tr>
					
			<tr>
				<td class="color bg" rowspan="2">交通指揮路燈</td>
				<td class="color" colspan="2">每一路口為1組</td>
				<td class="color">每組每月</td>
				<td class="color">483.87</td>
			</tr>
			<tr>
				<td class="color" colspan="2">每一路口最大入力數</td>
				<td class="color">每瓦每月</td>
				<td class="color">1.35</td>
			</tr>
			
			<tr>
				<td class="color bg" rowspan="2">包力<br>(警報器)</td>
				<td class="color" colspan="2"</td>
				<td class="color">每具每月</td>
				<td class="color">88.65</td>
			</tr>
			<tr>
				<td class="color" colspan="2">1瓩以上部分 ，每超出1瓩</td>
				<td class="color">每具每月</td>
				<td class="color">加19.28</td>
			</tr>

		</table>

	</div>
	
	<br>

	<script>
		function showAns(){
			
			var num1=document.getElementById("num1").value; //讀取瓦數的值
			var num2=document.getElementById("num2").value; //讀取具(盞)的值
			var e=document.getElementById("choice");        //讀取下拉式選單的內容和值
			var result=document.getElementById("result");   //將結果印在div
			var strValue=e.options[e.selectedIndex].value;  //讀取下拉式選項的值
			var strText=e.options[e.selectedIndex].text;    //讀取下拉式選項的內容
			var tmp;                                        //計算小部分的變數
			var sum;                                        //總金額

			//result.innerHTML+=num1+"瓦<br>"+num2+"具(盞)<br>"+"下拉式選項的編號:"+strValue+"<br>"+"下拉式選項的編號內容:"+strText+"<br>";

			document.getElementById("result").innerHTML="";
			switch(strValue){

				case "1":

					if(num1<100){
						
						tmp=(num1-100)/100;
						sum=((92.74*num2)+(74.81*tmp))*0.5;
						result.innerHTML+=num1+"瓦<br>"+num2+"具(盞)<br>"+"價格:"+Math.round(sum)+"元<br>";
					}

				break;

				case "2":

					if(num1>=100){
						tmp=(num1-100)/100;
						sum=((92.74*num2)+(74.81*tmp))*0.5;
						result.innerHTML+=num1+"瓦<br>"+num2+"具(盞)<br>"+"價格:"+Math.round(sum)+"元<br>";
					}

				break;

				case "3":

					sum=num1*num2*0.71;
					result.innerHTML+=num1+"瓦<br>"+num2+"具(盞)<br>"+"價格:"+Math.round(sum)+"元<br>";
				break;

				case "4":

					if(num1<50){
						tmp=(num1-50)/50;
						sum=((81.53*num2)+(54.54*tmp));
						result.innerHTML+=num1+"瓦<br>"+num2+"具(盞)<br>"+"價格:"+Math.round(sum)+"元<br>";
					}

				break;

				case "5":

					if(num1>=50){
						tmp=(num1-50)/50;
						sum=(81.53*num2)+(54.54*Math.ceil(tmp));
						result.innerHTML+=num1+"瓦<br>"+num2+"具(盞)<br>"+"價格:"+Math.round(sum)+"元<br>";
					}

				break;

				case "8":

					if(num1<1000){
						tmp=(num1-1000)/1000;
						sum=(88.65*num2)+(19.28*Math.ceil(tmp));
						result.innerHTML+=num1+"瓦<br>"+num2+"具(盞)<br>"+"價格:"+Math.round(sum)+"元<br>";
					}

				break;

				case "9":

					if(num1>=1000){
						tmp=(num1-1000)/1000;
						sum=(88.65*num2)+(19.28*Math.ceil(tmp));
						result.innerHTML+=num1+"瓦<br>"+num2+"具(盞)<br>"+"價格:"+Math.round(sum)+"元<br>";
					}

				break;
				
			}

		}
		
		function showClear(){
			document.getElementById("num1").value="";   //清除input的內容
			document.getElementById("num2").value="";   //清除input的內容
			document.getElementById("result").innerHTML=""; //清除div的內容
			document.getElementById("choice").value="0";  //下拉式選單跳回最上面第0個選項
		}

	</script>
	<div class="tbcenter">		
		<h2>輸入瓦數和幾具(盞)後，再按下拉式選單</h2>
		<p>請輸入瓦數: <input type="text" id="num1"></p>
		<p>請輸入具(盞): <input type="text" id="num2"></p><br>
		<select  id="choice" >
			<option value="0">選擇以下項目:</option>
			<option value="1">1.一般電燈，100瓦以下</option>
			<option value="2">2.一般電燈，100瓦以上，每1~100瓦</option>
			<option value="3">3.LED公用路燈</option>
			<option value="4">4.小型器具，50瓦以下部分</option>
			<option value="5">5.小型器具，50瓦以上部分，每超出1~50瓦</option>
			<option value="8">6.包力(警報器)，1瓩以下部分</option>
			<option value="9">7.包力(警報器)，1瓩以上部分 ，每超出1瓩</option>
		</select>
		<br><br>
		<button onclick="showAns()">Show Ans</button>
		<button onclick="showClear()">Clear</button>
		<div id="result"></div>
	</div>
</body>
</html>